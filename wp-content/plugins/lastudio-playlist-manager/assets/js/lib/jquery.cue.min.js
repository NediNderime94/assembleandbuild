window.cue=window.cue||{},function(e,t,r){"use strict";var s=t(e),i=e.cue,a=MediaElementPlayer.prototype.setControlsSize;i.l10n=t.extend({nextTrack:"Next Track",previousTrack:"Previous Track",togglePlaylist:"Toggle Playlist"},i.l10n||{}),i.settings=i.settings||{},t("html").addClass(function(){return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")?"svg":"no-svg"}),t.extend(mejs.MepDefaults,{cueDisableControlsSizing:!1,cueResponsiveProgress:!1,cueSelectors:{container:".cue-playlist-container"},cueSkin:""}),MediaElementPlayer.prototype.setControlsSize=function(){!0!==this.options.cueDisableControlsSizing&&a.call(this)},t.fn.cuePlaylist=function(e){var r=t.extend({},t.fn.cuePlaylist.defaults,e);return r.cueSelectors=t.extend({},mejs.MepDefaults.cueSelectors,{playlist:this.selector,track:".cue-track"}),"object"==typeof e&&"cueSelectors"in e&&t.extend(r.cueSelectors,e.cueSelectors),this.each(function(){var s,i,a,n=t(this),c=n.find(".cue-audio, audio").first(),u=n.find(".cue-playlist-data, script");if(u.length||(u=n.closest(r.cueSelectors.container).find(".cue-playlist-data, script")),u.length&&("signature"in(s=t.parseJSON(u.first().html()))&&(r.cueSignature=s.signature),"cueSignature"in s&&(r.cueSignature=s.cueSignature),(void 0===e||void 0===e.cuePlaylistTracks)&&"tracks"in s&&(r.cuePlaylistTracks=s.tracks)),r.cuePlaylistTracks.length){if(a=r.cuePlaylistTracks.length,n.addClass("cue-tracks-count-"+a),!c.length)for(i=0;i<a;i++)if(""!==r.cuePlaylistTracks[i].src){c=t("<audio />",{src:r.cuePlaylistTracks[i].src}).prependTo(n);break}c.mediaelementplayer(r)}})},t.fn.cuePlaylist.defaults={autosizeProgress:!1,autoRewind:!1,cuePlaylistLoop:!1,cuePlaylistTracks:[],cueSkin:"cue-skin-default",defaultAudioHeight:0,enableAutosize:!1,features:["cueartwork","cuecurrentdetails","cueprevioustrack","playpause","cuenexttrack","progress","current","duration","cueplaylist"],success:function(e,r,i){var a=t(e),n=t(i.container).closest(i.options.cueSelectors.playlist);""!==i.options.cueSkin&&i.changeSkin(i.options.cueSkin),i.options.cueResponsiveProgress&&s.on("resize.cue",function(){t(i.controls).find(".mejs-time-rail").width("100%")}).trigger("resize.cue"),t(i.node).on("loadedmetadata",function(e){!isNaN(e.target.duration)&&isFinite(e.target.duration)||t(i.container).find(".mejs-time-separator, .mejs-duration").hide()}),a.on("play.cue",function(){n.addClass("is-playing")}).on("pause.cue",function(){n.removeClass("is-playing")}),t(i.options.cueSelectors.playlist).removeClass("is-loading"),n.trigger("success.cue",[e,r,i])},timeAndDurationSeparator:'<span class="mejs-time-separator"> / </span>'}}(this,jQuery),function(e,t,r){"use strict";t.extend(MediaElementPlayer.prototype,{buildcueartwork:function(e,r,s){var i=t(s).append('<span class="mejs-track-artwork"><img src=""></span>').find(".mejs-track-artwork");t(e.node).on("setTrack.cue",function(e,t,r){var s;t.thumb=t.thumb||{},s=void 0!==t.thumb.src&&""!==t.thumb.src,i.find("img").attr("src",t.thumb.src).toggle(s),i.closest(r.options.cueSelectors.playlist).toggleClass("has-artwork",s)})}})}(0,jQuery),function(e,t,r){"use strict";t.extend(MediaElementPlayer.prototype,{buildcuecurrentdetails:function(e,r,s){var i,a,n=t(s);n.append('<div class="mejs-track-details"><span class="mejs-track-artist"></span><span class="mejs-track-title"></span></div>'),i=n.find(".mejs-track-artist"),a=n.find(".mejs-track-title"),t(e.node).on("setTrack.cue",function(e,t,r){t.meta=t.meta||{},t.title=t.title||"",i.html(t.meta.artist),a.html(t.title)})}})}(0,jQuery),function(e,t,r){"use strict";var s,i,a=MediaElementPlayer.prototype.init;function n(t,r){var s=function(t){try{var r=e[t],s="__storage_test__";return r.setItem(s,s),r.removeItem(s),!0}catch(e){return!1}}("sessionStorage")?sessionStorage:{},i=t+"-signature";this.set=function(e,r){s[t+"-"+e]=r},this.get=function(e){var r,i=t+"-"+e;return void 0!==s[i]&&(r=s[i],"currentTime"===e?r=parseFloat(r):"status"===e?r="playing"===r?"playing":"paused":"trackIndex"===e?r=parseInt(r,10):"volume"===e&&(r=parseFloat(r))),r},this.clear=function(){var e;for(e in s)s.hasOwnProperty(e)&&0===e.indexOf(t+"-")&&delete s[e]},void 0!==s[i]&&s[i]===r||this.clear(),s[i]=r}MediaElementPlayer.prototype.init=function(){-1!==this.options.features.indexOf("cuehistory")&&(i=this.options.success,this.options.success=s),a.call(this)},s=function(e,t,s){var a,c=new n(s.options.cueId||"",s.options.cueSignature||""),u="autoplay"===e.getAttribute("autoplay"),o=mejs.MediaFeatures||mejs.Features;c&&r!==c.get("volume")&&e.setVolume(c.get("volume")),c&&r!==c.get("trackIndex")&&(a="playing"===(c?c.get("status"):"")&&!o.isiOS&&!o.isAndroid&&!u,s.cueAutoResume=a,"cuePlaylistTracks"in s.options&&s.options.cuePlaylistTracks.length?s.cueSetCurrentTrack(c.get("trackIndex"),a):a&&s.cuePlay()),i.call(this,e,t,s)},t.extend(mejs.MepDefaults,{cueId:"cue",cueSignature:""}),t.extend(MediaElementPlayer.prototype,{cueHistory:null,cueAutoResume:!1,buildcuehistory:function(e,t,r,s){var i,a,c=!1,u=mejs.MediaFeatures||mejs.Features,o=/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor);a=e.cueHistory=new n(e.options.cueId,e.options.cueSignature),i=a.get("currentTime"),s.addEventListener("play",function(){a.set("trackIndex",e.cueCurrentTrack),a.set("status","playing")}),s.addEventListener("pause",function(){a.set("status","paused")}),s.addEventListener("timeupdate",function(){a.set("currentTime",s.currentTime)}),s.addEventListener("volumechange",function(){a.set("volume",s.volume)}),s.addEventListener("playing",function(){if(!(c||i<1)){if(u.isiOS||o)var t=setInterval(function(){i<s.buffered.end(0)&&(clearInterval(t),e.setCurrentTime(i),e.setCurrentRail())},50);else try{e.setCurrentTime(i),e.setCurrentRail()}catch(e){}c=!0}})}})}(this,jQuery),function(e,t,r){"use strict";t.extend(MediaElementPlayer.prototype,{buildcueicons:function(e,r){var s=t(e.options.cueSelectors.container).find("[data-cue-control]"),i=t(r);s.each(function(){var e=t(this);e.appendTo(i.find(e.data("cueControl")))})}})}(0,jQuery),function(e,t,r,s){"use strict";t.extend(MediaElementPlayer.prototype,{buildcuenexttrack:function(e,s,i,a){t('<div class="mejs-button mejs-next-button mejs-next"><button type="button" aria-controls="'+e.id+'" title="'+r.l10n.nextTrack+'"></button></div>').appendTo(s).on("click.cue",function(){var r,s=e.cueGetCurrentTrack()||{};r=t.extend({},{currentTime:a.currentTime,duration:a.duration,src:a.src}),t(e.node).trigger("skipNext.cue",[r,s]),e.cuePlayNextTrack()})},cuePlayNextTrack:function(){var e=this,r=e.cueCurrentTrack+1>=e.options.cuePlaylistTracks.length?0:e.cueCurrentTrack+1;t(e.node).trigger("nextTrack.cue",e),e.cueSetCurrentTrack(r)}})}(0,jQuery,window.cue),function(e,t,r){"use strict";var s,i;t.extend(mejs.MepDefaults,{cuePlaylistLoop:!1,cuePlaylistTracks:[]}),t.extend(mejs.MepDefaults.cueSelectors,{playlist:".cue-playlist",track:".cue-track",trackCurrentTime:".cue-track-current-time",trackDuration:".cue-track-duration",trackPlayBar:".cue-track-play-bar",trackProgressBar:".cue-track-progress-bar",trackSeekBar:".cue-track-seek-bar",tracklist:".cue-tracklist"}),t.extend(MediaElementPlayer.prototype,{$cueTracks:t(),cueCurrentTrack:0,buildcueplaylist:function(e,r,i,a){var n=e.options.cueSelectors,c=t(a),u=t(e.container).closest(n.playlist);e.cueSetupTracklist(),e.cueSetCurrentTrack(e.options.cuePlaylistTracks[0],!1),u.on("click.cue",n.trackSeekBar,function(r){var s=t(this),i=e.options.duration>0?e.options.duration:e.media.duration,n=(r.pageX-s.offset().left)/s.outerWidth();n=n<.2?0:n,a.setCurrentTime(n*i)}),u.on("click.cue",n.track,function(r){var i=t(this),c=e.$cueTracks.index(i),u=t(r.target),o=i.find("a, .js-disable-playpause, "+n.trackProgressBar);u.is(o)||o.find(u).length||(s.setPlayer(e).setTrack(i),e.cueCurrentTrack===c&&""!==e.options.cuePlaylistTracks[c].src?a.paused?a.play():a.pause():e.cueSetCurrentTrack(c))}),c.on("play.cue",function(){var t=e.$cueTracks.removeClass("is-playing").eq(e.cueCurrentTrack).addClass("is-playing");s.setPlayer(e).setTrack(t)}),c.on("pause.cue",function(){e.$cueTracks.removeClass("is-playing")}),c.on("timeupdate.cue",function(){s.updateTimeCodes()}),c.on("ended.cue",function(){var r=e.cueCurrentTrack+1>=e.options.cuePlaylistTracks.length?0:e.cueCurrentTrack+1;(e.options.cuePlaylistLoop||0!==r)&&setTimeout(function(){t(e.node).trigger("nextTrack.cue",e),e.cuePlayNextTrack()},250)})},cuePlay:function(){var e=this;(e.media.paused||"flash"===e.media.pluginType)&&(clearTimeout(i),i=setTimeout(function(){e.play()},50))},cueGetCurrentTrack:function(){return this.options.cuePlaylistTracks[this.cueCurrentTrack]},cueSetCurrentTrack:function(e,r){var s,i=this,a=i.options.cueSelectors;"number"!=typeof e&&void 0!==e||(i.cueCurrentTrack=e,e=i.cueGetCurrentTrack()),t(i.container).closest(a.playlist).find(a.track).removeClass("is-current").eq(i.cueCurrentTrack).addClass("is-current"),e.length&&t(i.controls).find(".mejs-duration").text(e.length),e.src&&e.src!==decodeURI(i.media.src)&&(i.pause(),i.setSrc(e.src),i.load()),s=e.title||"",t(i.media).attr("title",s),t(i.node).trigger("setTrack.cue",[e,i]),e.src&&(void 0===r||r)&&i.cuePlay()},cueSetupTracklist:function(){var e=this,r=e.options.cueSelectors,s=t(e.container).closest(r.playlist);e.$cueTracks=s.find(r.track),e.$cueTracks.filter(function(t){var r=e.options.cuePlaylistTracks[t]||{};return"src"in r&&""!==r.src}).addClass("is-playable")}}),s={player:null,$track:t(),$duration:t(),$playBar:t(),$time:t(),setPlayer:function(e){return this.player=e,this},setTrack:function(e){var r=this.player.options.cueSelectors;return this.$track=e instanceof jQuery?e:t(e),this.$duration=this.$track.find(r.trackDuration),this.$playBar=this.$track.find(r.trackPlayBar),this.$time=this.$track.find(r.trackCurrentTime),this},updateTimeCodes:function(){var e,t,r,s=this.player,i=mejs.Utility||mejs.Utils;if(null!==s)return e=s.options.duration>0?s.options.duration:s.media.duration,isNaN(e)||(t=i.secondsToTimeCode(e,s.options.alwaysShowHours,s.options.showTimecodeFrameCount,s.options.framesPerSecond||25),r=i.secondsToTimeCode(s.media.currentTime,s.options.alwaysShowHours||s.media.duration>3600,s.options.showTimecodeFrameCount,s.options.framesPerSecond||25),this.$duration.text(t),this.$playBar.width(s.media.currentTime/e*100+"%"),this.$time.text(r)),this}}}(0,jQuery),function(e,t,r,s){"use strict";t.extend(mejs.MepDefaults,{cuePlaylistToggle:function(e,t){e.slideToggle(200)}}),t.extend(MediaElementPlayer.prototype,{buildcueplaylisttoggle:function(e,s,i,a){var n=e.options.cueSelectors,c=t(e.container).closest(n.playlist),u=c.find(n.tracklist),o=u.is(":visible");c.addClass(function(){return o?"is-tracklist-open":"is-tracklist-closed"}),t('<div class="mejs-button mejs-toggle-playlist-button mejs-toggle-playlist"><button type="button" aria-controls="'+e.id+'" title="'+r.l10n.togglePlaylist+'"></button></div>').appendTo(e.controls).on("click",function(){var r=t(this),s=u.is(":visible");r.toggleClass("is-open",!s).toggleClass("is-closed",s),c.toggleClass("is-tracklist-open",!s).toggleClass("is-tracklist-closed",s),t.isFunction(e.options.cuePlaylistToggle)&&e.options.cuePlaylistToggle(u,e)}).addClass(function(){return o?"is-open":"is-closed"})}})}(0,jQuery,window.cue),function(e,t,r,s){"use strict";t.extend(MediaElementPlayer.prototype,{buildcueprevioustrack:function(e,s,i,a){t('<div class="mejs-button mejs-previous-button mejs-previous"><button type="button" aria-controls="'+e.id+'" title="'+r.l10n.previousTrack+'"></button></div>').appendTo(s).on("click.cue",function(){var r,s=e.cueGetCurrentTrack()||{};r=t.extend({},{currentTime:a.currentTime,duration:a.duration,src:a.src}),t(e.node).trigger("skipBack.cue",[r,s]),e.cuePlayPreviousTrack()})},cuePlayPreviousTrack:function(){var e=this,r=e.cueCurrentTrack-1<0?e.options.cuePlaylistTracks.length-1:e.cueCurrentTrack-1;t(e.node).trigger("previousTrack.cue",e),e.cueSetCurrentTrack(r)}})}(0,jQuery,window.cue);